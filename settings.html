<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Configura√ß√µes - Caderneta de Apostas</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="app-header">
      <div>
        <h1>‚öôÔ∏è Configura√ß√µes e Perfil</h1>
        <p class="subtitle">Personalize sua experi√™ncia na Caderneta.</p>
      </div>
      <nav class="app-nav">
        <a href="./index.html" class="nav-link">‚Üê Voltar para Caderneta</a>
      </nav>
    </header>

    <main class="app-grid">
      <!-- Gerenciador de Perfis -->
      <section class="panel full">
        <div class="panel-header">
          <h2>üë• Gerenciar Perfis</h2>
          <p>Crie e alterne entre diferentes perfis. Cada perfil tem seus pr√≥prios dados.</p>
        </div>
        <div class="profiles-container">
          <div class="profiles-list" id="profiles-list"></div>
          <div class="profile-actions">
            <div class="new-profile-form">
              <input type="text" id="new-profile-name" placeholder="Nome do novo perfil" />
              <button type="button" id="create-profile-btn">+ Criar Perfil</button>
            </div>
          </div>
        </div>
        <div class="current-profile-info" id="current-profile-info"></div>
      </section>

      <!-- Perfil do Usu√°rio -->
      <section class="panel">
        <div class="panel-header">
          <h2>üë§ Perfil Atual</h2>
        </div>
        <form id="profile-form" class="form-grid">
          <label class="full">
            Nome
            <input type="text" id="profile-name" placeholder="Seu nome" />
          </label>
          <label class="full">
            Meta de Lucro Mensal
            <div class="input-group">
              <span class="prefix">R$</span>
              <input type="text" inputmode="decimal" id="profile-goal" placeholder="1000" />
            </div>
          </label>
          <div class="form-footer">
            <button type="submit">Salvar Perfil</button>
          </div>
        </form>
      </section>

      <!-- Anota√ß√µes Pessoais -->
      <section class="panel">
        <div class="panel-header">
          <h2>üìù Anota√ß√µes</h2>
          <p>Suas notas pessoais sobre apostas e estrat√©gias.</p>
        </div>
        <div class="notes-container">
          <textarea id="user-notes" placeholder="Escreva suas anota√ß√µes aqui...&#10;&#10;‚Ä¢ Estrat√©gias que funcionam&#10;‚Ä¢ Erros a evitar&#10;‚Ä¢ Metas e objetivos&#10;‚Ä¢ Observa√ß√µes sobre times/eventos"></textarea>
          <div class="notes-footer">
            <span class="notes-status" id="notes-status"></span>
            <button type="button" id="save-notes-btn" class="ghost small">üíæ Salvar</button>
          </div>
        </div>
      </section>

      <!-- Prefer√™ncias de Exibi√ß√£o -->
      <section class="panel">
        <div class="panel-header">
          <h2>üëÅÔ∏è Prefer√™ncias de Exibi√ß√£o</h2>
          <p>Escolha o que aparece na p√°gina principal.</p>
        </div>
        <div class="settings-list">
          <label class="setting-item">
            <input type="checkbox" id="show-calendar" checked />
            <span class="setting-label">
              <strong>Calend√°rio de Resultados</strong>
              <small>Visualiza√ß√£o mensal/anual dos resultados</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-chart" checked />
            <span class="setting-label">
              <strong>Gr√°fico de Evolu√ß√£o</strong>
              <small>Evolu√ß√£o do lucro acumulado</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-bankroll" checked />
            <span class="setting-label">
              <strong>Gest√£o de Banca</strong>
              <small>Exposi√ß√£o e controle de banca</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-kpis" checked />
            <span class="setting-label">
              <strong>KPIs (Lucro Total e Taxa de Acerto)</strong>
              <small>Indicadores principais</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-potential-profit" checked />
            <span class="setting-label">
              <strong>Lucro Potencial no Formul√°rio</strong>
              <small>C√°lculo autom√°tico ao criar aposta</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-table-potential" checked />
            <span class="setting-label">
              <strong>Coluna Lucro Potencial na Tabela</strong>
              <small>Exibir lucro potencial no hist√≥rico</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-roi" checked />
            <span class="setting-label">
              <strong>ROI (Retorno sobre Investimento)</strong>
              <small>Lucro dividido pelo total apostado</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-avg-odd" checked />
            <span class="setting-label">
              <strong>Odd M√©dia</strong>
              <small>M√©dia das odds das apostas finalizadas</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-avg-stake" checked />
            <span class="setting-label">
              <strong>Ticket M√©dio</strong>
              <small>Valor m√©dio das apostas</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-total-stake" checked />
            <span class="setting-label">
              <strong>Total Movimentado</strong>
              <small>Soma de todas as stakes finalizadas</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-total-bets" checked />
            <span class="setting-label">
              <strong>Total de Apostas</strong>
              <small>Quantidade de apostas finalizadas</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-streak" checked />
            <span class="setting-label">
              <strong>Sequ√™ncia Atual</strong>
              <small>Sequ√™ncia de greens ou reds consecutivos</small>
            </span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="show-staked-period" checked />
            <span class="setting-label">
              <strong>Total Apostado por Per√≠odo</strong>
              <small>Total apostado no dia, semana, m√™s e ano</small>
            </span>
          </label>
        </div>
      </section>

      <!-- Configura√ß√µes da Tabela -->
      <section class="panel full">
        <div class="panel-header">
          <h2>üìã Colunas da Tabela de Apostas</h2>
          <p>Escolha quais colunas exibir no hist√≥rico.</p>
        </div>
        <div class="columns-grid">
          <label class="setting-item">
            <input type="checkbox" id="col-date" checked />
            <span class="setting-label"><strong>Data</strong></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-event" checked disabled />
            <span class="setting-label"><strong>Evento</strong> <small>(obrigat√≥rio)</small></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-odds" checked />
            <span class="setting-label"><strong>Odd</strong></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-stake" checked />
            <span class="setting-label"><strong>Stake</strong></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-status" checked />
            <span class="setting-label"><strong>Status</strong></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-profit" checked />
            <span class="setting-label"><strong>Lucro</strong></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-potential" checked />
            <span class="setting-label"><strong>Lucro Potencial</strong></span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="col-book" checked />
            <span class="setting-label"><strong>Casa</strong></span>
          </label>
        </div>
      </section>

      <!-- Configura√ß√£o da API Gemini -->
      <section class="panel">
        <div class="panel-header">
          <h2>ü§ñ IA Avan√ßada (Gemini AI) - Opcional</h2>
          <p>Melhore a precis√£o da importa√ß√£o de cupons com IA. Sem configura√ß√£o, o OCR local gratuito ser√° usado.</p>
        </div>
        <div class="form-grid">
          <label class="full">
            Chave API do Gemini
            <div class="input-group">
              <input type="password" id="gemini-api-key" placeholder="AIza..." />
              <button type="button" id="toggle-api-key" class="ghost small">üëÅÔ∏è</button>
            </div>
            <small class="help-text">Obtenha sua chave em <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></small>
          </label>
          <div class="form-footer">
            <button type="button" id="save-api-key" class="ghost">üíæ Salvar Chave</button>
            <button type="button" id="test-api-key" class="ghost">üß™ Testar Conex√£o</button>
          </div>
        </div>
        <div id="api-key-status" class="api-status"></div>
      </section>

      <!-- Casas de Aposta Favoritas -->
      <section class="panel">
        <div class="panel-header">
          <h2>üè† Casas de Aposta Favoritas</h2>
          <p>Adicione suas casas para preenchimento r√°pido.</p>
        </div>
        <div class="favorites-list" id="favorites-list"></div>
        <div class="add-favorite">
          <input type="text" id="new-favorite" placeholder="Nome da casa" />
          <button type="button" id="add-favorite-btn" class="ghost">+ Adicionar</button>
        </div>
      </section>

      <!-- Status Padr√£o -->
      <section class="panel">
        <div class="panel-header">
          <h2>üìä Comportamento Padr√£o</h2>
        </div>
        <div class="form-grid">
          <label>
            Status padr√£o ao criar aposta
            <select id="default-status">
              <option value="pending">Aberta</option>
              <option value="win">Green / Ganhou</option>
              <option value="loss">Red / Perdeu</option>
            </select>
          </label>
          <label>
            Filtro padr√£o no hist√≥rico
            <select id="default-filter">
              <option value="pending">Abertas</option>
              <option value="settled">Finalizadas</option>
              <option value="all">Todas</option>
            </select>
          </label>
          <label>
            Tipo de stake padr√£o
            <select id="default-stake-type">
              <option value="regular">Normal (stake retorna)</option>
              <option value="freebet">Aposta gr√°tis</option>
            </select>
          </label>
        </div>
      </section>

      <!-- Exportar/Importar Dados -->
      <section class="panel full">
        <div class="panel-header">
          <h2>üíæ Dados</h2>
          <p>Exporte ou importe seus dados.</p>
        </div>
        <div class="data-actions">
          <button type="button" id="export-data" class="ghost">üì• Exportar Dados (JSON)</button>
          <button type="button" id="import-data" class="ghost">üì§ Importar Dados</button>
          <input type="file" id="import-file" accept=".json" style="display: none;" />
          <button type="button" id="clear-data" class="ghost danger">üóëÔ∏è Limpar Todos os Dados</button>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p>Dados salvos no localStorage. App local, sem envio para terceiros.</p>
    </footer>

    <script src="./settings.js"></script>
  </body>
</html>
